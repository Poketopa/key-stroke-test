<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypingDNA ì‹¤ì œ íƒ€ì´í•‘ í…ŒìŠ¤íŠ¸</title>
    <script src="https://www.typingdna.com/scripts/typingdna.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .user-section {
            border-left: 4px solid #007bff;
        }
        .user-section.user-b {
            border-left-color: #28a745;
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-weight: bold;
        }
        .enrolled {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .not-enrolled {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        input[type="text"] {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        button:hover {
            background-color: #0056b3;
        }
        button.clear {
            background-color: #dc3545;
        }
        button.clear:hover {
            background-color: #c82333;
        }
        .pattern-display {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            word-break: break-all;
        }
        .result {
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 12px;
        }
        .verification-section {
            border-left: 4px solid #ffc107;
        }
        .python-section {
            border-left: 4px solid #17a2b8;
        }
    </style>
</head>
<body>
    <h1>ğŸ”¤ TypingDNA ì‹¤ì œ íƒ€ì´í•‘ í…ŒìŠ¤íŠ¸</h1>
    
    <div class="container">
        <h2>ğŸ“‹ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ</h2>
        <ol>
            <li><strong>1ë‹¨ê³„</strong>: ì‚¬ìš©ì Aê°€ "helloworld"ë¥¼ 1ë²ˆ íƒ€ì´í•‘í•˜ì—¬ ë“±ë¡</li>
            <li><strong>2ë‹¨ê³„</strong>: ì‚¬ìš©ì Bê°€ "helloworld"ë¥¼ 1ë²ˆ íƒ€ì´í•‘í•˜ì—¬ ë“±ë¡</li>
            <li><strong>3ë‹¨ê³„</strong>: ê° ì‚¬ìš©ìê°€ ìƒˆë¡œìš´ íƒ€ì´í•‘ìœ¼ë¡œ ê²€ì¦ í…ŒìŠ¤íŠ¸</li>
            <li><strong>4ë‹¨ê³„</strong>: Python ì½”ë“œ ìƒì„± ë° ì‹¤í–‰</li>
        </ol>
        <p><strong>ì¤‘ìš”:</strong> ê° íƒ€ì´í•‘ë§ˆë‹¤ ë‹¤ë¥¸ ì†ë„ì™€ ìŠ¤íƒ€ì¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”!</p>
    </div>

    <!-- ì‚¬ìš©ì A ë“±ë¡ ì„¹ì…˜ -->
    <div class="container user-section user-a">
        <h2>ğŸ‘¤ ì‚¬ìš©ì A ë“±ë¡</h2>
        <div class="status not-enrolled" id="user-a-status">ë“±ë¡ë˜ì§€ ì•ŠìŒ</div>
        
        <div id="user-a-enrollment">
            <p><strong>í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:</strong> "helloworld"</p>
            <input type="text" id="user-a-input" placeholder="ì—¬ê¸°ì— 'helloworld'ë¥¼ íƒ€ì´í•‘í•˜ì„¸ìš”..." value="helloworld">
            <br>
            <button onclick="enrollUserA()">ì‚¬ìš©ì A ë“±ë¡</button>
            <button onclick="clearUserA()" class="clear">ì´ˆê¸°í™”</button>
        </div>
        
        <div id="user-a-patterns" style="display: none;">
            <h3>ë“±ë¡ëœ íŒ¨í„´ë“¤:</h3>
            <div id="user-a-pattern-list"></div>
        </div>
    </div>

    <!-- ì‚¬ìš©ì B ë“±ë¡ ì„¹ì…˜ -->
    <div class="container user-section user-b">
        <h2>ğŸ‘¤ ì‚¬ìš©ì B ë“±ë¡</h2>
        <div class="status not-enrolled" id="user-b-status">ë“±ë¡ë˜ì§€ ì•ŠìŒ</div>
        
        <div id="user-b-enrollment">
            <p><strong>í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:</strong> "helloworld"</p>
            <input type="text" id="user-b-input" placeholder="ì—¬ê¸°ì— 'helloworld'ë¥¼ íƒ€ì´í•‘í•˜ì„¸ìš”..." value="helloworld">
            <br>
            <button onclick="enrollUserB()">ì‚¬ìš©ì B ë“±ë¡</button>
            <button onclick="clearUserB()" class="clear">ì´ˆê¸°í™”</button>
        </div>
        
        <div id="user-b-patterns" style="display: none;">
            <h3>ë“±ë¡ëœ íŒ¨í„´ë“¤:</h3>
            <div id="user-b-pattern-list"></div>
        </div>
    </div>

    <!-- ê²€ì¦ í…ŒìŠ¤íŠ¸ ì„¹ì…˜ -->
    <div class="container verification-section">
        <h2>ğŸ” ê²€ì¦ í…ŒìŠ¤íŠ¸</h2>
        <div id="verification-section" style="display: none;">
            <p><strong>ê²€ì¦í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:</strong> "helloworld"</p>
            <input type="text" id="verification-input" placeholder="ì—¬ê¸°ì— 'helloworld'ë¥¼ íƒ€ì´í•‘í•˜ì„¸ìš”..." value="helloworld">
            <br>
            <button onclick="testVerification()">ê²€ì¦ í…ŒìŠ¤íŠ¸</button>
        </div>
        <div id="verification-result"></div>
    </div>

    <!-- Python ë‚´ë³´ë‚´ê¸° ì„¹ì…˜ -->
    <div class="container python-section">
        <h2>ğŸ Python ì½”ë“œ ìƒì„±</h2>
        <button onclick="generatePythonCode()">Python ì½”ë“œ ìƒì„±</button>
        <div id="python-code" class="result"></div>
    </div>

    <script>
        var tdna = new TypingDNA();
        var userAPatterns = [];
        var userBPatterns = [];
        var verificationPattern = null;

        function enrollUserA() {
            var input = document.getElementById('user-a-input');
            var text = input.value;
            
            if (text.toLowerCase() !== 'helloworld') {
                alert('"helloworld"ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            tdna = new TypingDNA(); // ë°ì´í„° ì´ˆê¸°í™”
            var pattern = tdna.getTypingPattern({
                type: 2,
                text: text
            });
            
            userAPatterns.push(pattern);
            updateUserAStatus();
            showUserAPatterns();
            
            input.value = 'helloworld';
            input.focus();
        }

        function enrollUserB() {
            var input = document.getElementById('user-b-input');
            var text = input.value;
            
            if (text.toLowerCase() !== 'helloworld') {
                alert('"helloworld"ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            tdna = new TypingDNA(); // ë°ì´í„° ì´ˆê¸°í™”
            var pattern = tdna.getTypingPattern({
                type: 2,
                text: text
            });
            
            userBPatterns.push(pattern);
            updateUserBStatus();
            showUserBPatterns();
            
            input.value = 'helloworld';
            input.focus();
        }

        function testVerification() {
            var input = document.getElementById('verification-input');
            var text = input.value;
            
            if (text.toLowerCase() !== 'helloworld') {
                alert('"helloworld"ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            tdna = new TypingDNA(); // ë°ì´í„° ì´ˆê¸°í™”
            verificationPattern = tdna.getTypingPattern({
                type: 2,
                text: text
            });
            
            document.getElementById('verification-result').innerHTML = 
                '<h3>âœ… ê²€ì¦ íŒ¨í„´ ìƒì„± ì™„ë£Œ!</h3>' +
                '<div class="pattern-display">' + verificationPattern + '</div>';
            
            input.value = 'helloworld';
            input.focus();
        }

        function updateUserAStatus() {
            var status = document.getElementById('user-a-status');
            if (userAPatterns.length >= 1) {
                status.textContent = 'ë“±ë¡ ì™„ë£Œ (1/1)';
                status.className = 'status enrolled';
            } else {
                status.textContent = 'ë“±ë¡ ì¤‘... (0/1)';
                status.className = 'status not-enrolled';
            }
            
            if (userAPatterns.length >= 1 && userBPatterns.length >= 1) {
                document.getElementById('verification-section').style.display = 'block';
            }
        }

        function updateUserBStatus() {
            var status = document.getElementById('user-b-status');
            if (userBPatterns.length >= 1) {
                status.textContent = 'ë“±ë¡ ì™„ë£Œ (1/1)';
                status.className = 'status enrolled';
            } else {
                status.textContent = 'ë“±ë¡ ì¤‘... (0/1)';
                status.className = 'status not-enrolled';
            }
            
            if (userAPatterns.length >= 1 && userBPatterns.length >= 1) {
                document.getElementById('verification-section').style.display = 'block';
            }
        }

        function showUserAPatterns() {
            var container = document.getElementById('user-a-patterns');
            var list = document.getElementById('user-a-pattern-list');
            
            list.innerHTML = '';
            userAPatterns.forEach((pattern, index) => {
                list.innerHTML += '<div class="pattern-display">íŒ¨í„´ ' + (index + 1) + ': ' + pattern + '</div>';
            });
            
            container.style.display = 'block';
        }

        function showUserBPatterns() {
            var container = document.getElementById('user-b-patterns');
            var list = document.getElementById('user-b-pattern-list');
            
            list.innerHTML = '';
            userBPatterns.forEach((pattern, index) => {
                list.innerHTML += '<div class="pattern-display">íŒ¨í„´ ' + (index + 1) + ': ' + pattern + '</div>';
            });
            
            container.style.display = 'block';
        }

        function clearUserA() {
            userAPatterns = [];
            updateUserAStatus();
            document.getElementById('user-a-patterns').style.display = 'none';
            document.getElementById('user-a-input').value = 'helloworld';
        }

        function clearUserB() {
            userBPatterns = [];
            updateUserBStatus();
            document.getElementById('user-b-patterns').style.display = 'none';
            document.getElementById('user-b-input').value = 'helloworld';
        }

        function generatePythonCode() {
            if (userAPatterns.length < 1 || userBPatterns.length < 1 || !verificationPattern) {
                alert('ì‚¬ìš©ì Aì™€ Bë¥¼ ê°ê° 1ë²ˆì”© ë“±ë¡í•˜ê³ , ê²€ì¦ íŒ¨í„´ì„ ìƒì„±í•œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            var pythonCode = `import requests
import base64
import json

def test_typingdna_verification():
    """TypingDNA ì‚¬ìš©ì êµ¬ë¶„ í…ŒìŠ¤íŠ¸ (ì‹¤ì œ íƒ€ì´í•‘ íŒ¨í„´)"""
    
    # Authentication API í‚¤ì™€ ì‹œí¬ë¦¿
    api_key = "3a07f4dae8484fb7f70d0d0613a3a3e4"
    api_secret = "d97ae110a884c19f47318d54373e27d9"
    
    # Basic ì¸ì¦ í—¤ë”
    auth_string = f"{api_key}:{api_secret}"
    auth_encoded = base64.b64encode(auth_string.encode('utf-8')).decode('utf-8')
    
    headers = {
        "Authorization": f"Basic {auth_encoded}",
        "Content-Type": "application/x-www-form-urlencoded"
    }
    
    # ì‚¬ìš©ì Aì˜ ë“±ë¡ íŒ¨í„´ë“¤ (ì‹¤ì œ íƒ€ì´í•‘)
    user_a_patterns = [
${userAPatterns.map(pattern => `        "${pattern}"`).join(',\n')}
    ]
    
    # ì‚¬ìš©ì Bì˜ ë“±ë¡ íŒ¨í„´ë“¤ (ì‹¤ì œ íƒ€ì´í•‘)
    user_b_patterns = [
${userBPatterns.map(pattern => `        "${pattern}"`).join(',\n')}
    ]
    
    # ê²€ì¦ íŒ¨í„´ (ì‹¤ì œ íƒ€ì´í•‘)
    verification_pattern = "${verificationPattern}"
    
    print("ğŸš€ TypingDNA ì‚¬ìš©ì êµ¬ë¶„ í…ŒìŠ¤íŠ¸ (ì‹¤ì œ íƒ€ì´í•‘)")
    print("=" * 60)
    
    # 1ë‹¨ê³„: ì‚¬ìš©ì A ë“±ë¡
    print("\\nğŸ“ 1ë‹¨ê³„: ì‚¬ìš©ì A ë“±ë¡")
    enroll_user("user_a", user_a_patterns, headers)
    
    # 2ë‹¨ê³„: ì‚¬ìš©ì B ë“±ë¡
    print("\\nğŸ“ 2ë‹¨ê³„: ì‚¬ìš©ì B ë“±ë¡")
    enroll_user("user_b", user_b_patterns, headers)
    
    # 3ë‹¨ê³„: ê²€ì¦ í…ŒìŠ¤íŠ¸
    print("\\nğŸ” 3ë‹¨ê³„: ê²€ì¦ í…ŒìŠ¤íŠ¸")
    print("=" * 60)
    
    # í…ŒìŠ¤íŠ¸ 1: ê²€ì¦ íŒ¨í„´ìœ¼ë¡œ ì‚¬ìš©ì A ì¸ì¦
    print("\\nğŸ§ª í…ŒìŠ¤íŠ¸ 1: ê²€ì¦ íŒ¨í„´ìœ¼ë¡œ ì‚¬ìš©ì A ì¸ì¦")
    result_a = verify_user("user_a", verification_pattern, headers)
    
    # í…ŒìŠ¤íŠ¸ 2: ê²€ì¦ íŒ¨í„´ìœ¼ë¡œ ì‚¬ìš©ì B ì¸ì¦
    print("\\nğŸ§ª í…ŒìŠ¤íŠ¸ 2: ê²€ì¦ íŒ¨í„´ìœ¼ë¡œ ì‚¬ìš©ì B ì¸ì¦")
    result_b = verify_user("user_b", verification_pattern, headers)
    
    # ê²°ê³¼ ë¶„ì„
    print("\\nğŸ“Š ê²°ê³¼ ë¶„ì„")
    print("=" * 60)
    
    if result_a and not result_b:
        print("âœ… ì„±ê³µ: ì‚¬ìš©ì Aë¡œ ì •í™•íˆ ì¸ì‹ë¨")
    elif result_b and not result_a:
        print("âœ… ì„±ê³µ: ì‚¬ìš©ì Bë¡œ ì •í™•íˆ ì¸ì‹ë¨")
    elif result_a and result_b:
        print("âš ï¸ ê²½ê³ : ë‘ ì‚¬ìš©ì ëª¨ë‘ ì¸ì¦ë¨ (ëª¨í˜¸í•¨)")
    else:
        print("âŒ ì‹¤íŒ¨: ì–´ë–¤ ì‚¬ìš©ìë„ ì¸ì¦ë˜ì§€ ì•ŠìŒ")
    
    return result_a, result_b

def enroll_user(user_id, patterns, headers):
    """ì‚¬ìš©ì ë“±ë¡"""
    url = f"https://api.typingdna.com/auto/{user_id}"
    
    for i, pattern in enumerate(patterns, 1):
        print(f"ğŸ“ íŒ¨í„´ {i} ë“±ë¡ ì¤‘...")
        
        payload = {"tp": pattern}
        
        try:
            response = requests.post(url, headers=headers, data=payload, timeout=10)
            
            if response.status_code == 200:
                result = response.json()
                print(f"âœ… íŒ¨í„´ {i} ë“±ë¡ ì„±ê³µ!")
                print(f"   Action: {result.get('action', 'N/A')}")
                print(f"   Enrollment: {result.get('enrollment', 'N/A')}")
            else:
                print(f"âŒ íŒ¨í„´ {i} ë“±ë¡ ì‹¤íŒ¨: {response.status_code}")
                
        except Exception as e:
            print(f"âŒ ì˜¤ë¥˜: {e}")

def verify_user(user_id, pattern, headers):
    """ì‚¬ìš©ì ê²€ì¦"""
    url = f"https://api.typingdna.com/auto/{user_id}"
    payload = {"tp": pattern}
    
    try:
        response = requests.post(url, headers=headers, data=payload, timeout=10)
        
        if response.status_code == 200:
            result = response.json()
            result_value = result.get('result', 'N/A')
            high_confidence = result.get('high_confidence', 'N/A')
            
            print(f"Status: {response.status_code}")
            print(f"Result: {result_value}")
            print(f"High Confidence: {high_confidence}")
            
            if result_value == 1:
                print("ğŸ‰ ì‚¬ìš©ì ì¸ì¦ ì„±ê³µ!")
                return True
            else:
                print("âŒ ì‚¬ìš©ì ì¸ì¦ ì‹¤íŒ¨!")
                return False
        else:
            print(f"âŒ ê²€ì¦ ìš”ì²­ ì‹¤íŒ¨: {response.status_code}")
            return None
            
    except Exception as e:
        print(f"âŒ ì˜¤ë¥˜: {e}")
        return None

if __name__ == "__main__":
    test_typingdna_verification()`;
            
            document.getElementById('python-code').textContent = pythonCode;
        }

        window.onload = function() {
            // ì´ˆê¸°í™”
            updateUserAStatus();
            updateUserBStatus();
        };
    </script>
</body>
</html> 